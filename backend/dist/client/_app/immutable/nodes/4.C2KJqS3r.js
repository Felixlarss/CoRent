import{c as le,a as i,f as c}from"../chunks/Cmn3p9sG.js";import{o as me}from"../chunks/CB0eSrTS.js";import{p as ie,l as h,m as J,n as E,a as ne,o as f,g as e,v as fe,s as m,c as r,r as a,t as R}from"../chunks/Aicq15hJ.js";import{s as y}from"../chunks/C_kzVUfe.js";import{i as k}from"../chunks/DBbGQF3u.js";import{e as L}from"../chunks/CbRuKxwf.js";import{r as P}from"../chunks/DznJpbkX.js";import{d as ce}from"../chunks/CzbOzLy7.js";import{b as Q}from"../chunks/Dxggacc6.js";import{g as pe}from"../chunks/CoAzRDEX.js";import{r as ue}from"../chunks/Y3Vm8HHn.js";import{g as _e}from"../chunks/Pn58d2WT.js";import{g as T,a as ve}from"../chunks/DaSJB_RK.js";import{a as de}from"../chunks/CD4DnK_T.js";var xe=c('<p class="flex justify-center text-4xl font-bold"> </p>'),he=c('<li class="flex flex-row"><div class="flex w-full flex-col"><div class="flex w-full cursor-pointer items-center justify-between gap-8 p-2 align-middle"><span class="flex w-full text-start"> </span> <span class="flex text-end whitespace-nowrap"> </span></div></div></li>'),ye=c('<button class="w-min whitespace-nowrap p-2">add room</button>'),be=c('<h2 class="pt-5"> </h2> <label class="mt-5 flex w-full items-center justify-center"><input required placeholder="Name" type="text" name="room_name"/></label> <label class="mt-5 flex w-full items-center justify-center"><input required placeholder="Area" type="number" name="room_m2"/></label>',1),we=c('<form class="px-3"><!> <button type="button" class="my-3 p-2">Add Room</button></form>'),ge=c('<!> <div class="flex gap-5  w-full flex-col justify-center"><div class="flex justify-center gap-5 items-center flex-col pt-5"><form class="flex items-center justify-center p-3 gap-3 w-1/3"><h1 class="flex text-3xl justify-center text-center">House Key:</h1> <h1 class="flex text-3xl justify-center text-center"> </h1></form> <ul class="flex w-1/3 flex-col space-y-5 p-4 align-middle"></ul></div> <div class="flex justify-center"><!> <!></div></div>',1);function Oe(U,V){ie(V,!0);let b=h(null),$=h(J([])),p=h(void 0),w=J([]),H=h(0),g=h(!1);async function W(){w.push({room_name:"",room_m2:null,room_id:e(H)}),fe(H)}me(async()=>{W(),f(p,await de(),!0),f(b,await _e(e(p)?.house_id),!0),f($,await T(),!0),e(p)?.house_id||await pe(ue("/"))});async function X(u){u.preventDefault(),w.forEach(async _=>{await ve(_.room_name,_.room_m2,e(b).house_id),f(g,!1),f($,await T(),!0)})}var M=le(),Y=E(M);{var Z=u=>{var _=ge(),B=E(_);{var ee=t=>{var o=xe(),s=r(o,!0);a(o),R(()=>y(s,e(b).house_name)),i(t,o)};k(B,t=>{e(b)&&t(ee)})}var I=m(B,2),q=r(I),A=r(q),K=m(r(A),2),ae=r(K,!0);a(K),a(A);var N=m(A,2);L(N,21,()=>e($),t=>t.room_id,(t,o)=>{var s=he(),j=r(s),n=r(j),l=r(n),z=r(l,!0);a(l);var v=m(l,2),d=r(v);a(v),a(n),a(j),a(s),R(()=>{y(z,e(o).room_name),y(d,`${e(o).room_m2??""} mÂ²`)}),i(t,s)}),a(N),a(q);var O=m(q,2),S=r(O);{var te=t=>{var o=ye();o.__click=function(...s){f(g,!0)?.apply(this,s)},i(t,o)};k(S,t=>{e(g)||t(te)})}var re=m(S,2);{var oe=t=>{var o=we(),s=r(o);L(s,17,()=>w,n=>n.room_id,(n,l,z)=>{var v=be(),d=E(v),se=r(d);a(d);var D=m(d,2),C=r(D);P(C),a(D);var F=m(D,2),G=r(F);P(G),a(F),R(x=>y(se,`Room ${x??""}`),[()=>w.indexOf(e(l))+1]),Q(C,()=>e(l).room_name,x=>e(l).room_name=x),Q(G,()=>e(l).room_m2,x=>e(l).room_m2=x),i(n,v)});var j=m(s,2);j.__click=X,a(o),i(t,o)};k(re,t=>{e(g)&&t(oe)})}a(O),a(I),R(()=>y(ae,e(p)?.house_id)),i(u,_)};k(Y,u=>{e(p)?.house_id&&u(Z)})}i(U,M),ne()}ce(["click"]);export{Oe as component};
